/*! slide - v1.0.2 - 2012-08-09
* http://digit.daumcorp.com/eastkiki/slide
* Copyright (c) 2012 Dong-il Kim; Licensed  */
(function(){var a=!1,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(c){function d(){!a&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;a=!0;var f=new this;a=!1;for(var g in c)f[g]=typeof c[g]=="function"&&typeof e[g]=="function"&&b.test(c[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,c[g]):c[g];return d.prototype=f,d.prototype.constructor=d,d.extend=arguments.callee,d}})(),function(a){function e(a,b){return{x:a,y:b,minus:function(a){return e(this.x-a.x,this.y-a.y)}}}function f(a,b,c,d){this.type="unindentified",this.direction="unindentified",this.startPos=e(a,b),this.delta=e(0,0),this.targetEvent=null,this.term=0,this.startTime=new Date,this.gestureThreshold=c,this.flickThreshold=d}function g(a,e,g){function j(a){h&&(h.recognizeGesture(d.getX(a),d.getY(a)),h.targetEvent=a||window.event,i.onGestureMove&&i.onGestureMove(h))}function k(a){h&&(h.checkFlick(),h.targetEvent=a||window.event,i.onGestureEnd&&i.onGestureEnd(h),h=null),d.unListen(document,d.MOVE,j),d.unListen(document,d.END,k),"ontouchstart"in window&&d.unListen(document,"touchcancel",k)}var h=null,i={onGestureStart:null,onGestureMove:null,onGetstureEnd:null};if(typeof e=="undefined")e=c;else if(typeof e!="number")throw new Error("gestureThreshold must be a number");if(typeof g=="undefined")g=b;else if(typeof g!="number")throw new Error("flickThreshold must be a number");return d.listen(a,d.START,function(a){h=new f(d.getX(a),d.getY(a),e,g),h.targetEvent=a||window.event,i.onGestureStart&&i.onGestureStart(h),d.listen(document,d.MOVE,j),d.listen(document,d.END,k),"ontouchstart"in window&&d.listen(document,"touchcancel",k)}),{onGestureStart:function(a){i.onGestureStart=a},onGestureMove:function(a){i.onGestureMove=a},onGestureEnd:function(a){i.onGestureEnd=a}}}"use strict";var b=30,c=30,d;f.prototype={},f.prototype.isSwipe=function(){return this.type==="swipe"},f.prototype.isScroll=function(){return this.type==="scroll"},f.prototype.isLeft=function(){return this.direction==="left"},f.prototype.isRight=function(){return this.direction==="right"},f.prototype.isUp=function(){return this.direction==="up"},f.prototype.isDown=function(){return this.direction==="down"},f.prototype.isFlick=function(){return this.term<200},f.prototype.getTerm=function(){return this.term},f.prototype.recognizeGesture=function(a,b){var c=e(a,b),d=c.minus(this.startPos);this.delta=d,this.type==="unindentified"&&(Math.abs(d.x)>this.gestureThreshold&&Math.abs(d.x)>=Math.abs(d.y)?(this.type="swipe",d.x<0?this.direction="left":this.direction="right"):Math.abs(d.y)>this.gestureThreshold&&Math.abs(d.y)>Math.abs(d.x)&&(this.type="scroll",d.y<0?this.direction="up":this.direction="down"))},f.prototype.checkFlick=function(){this.term=(new Date).getTime()-this.startTime},d={START:function(){return"ontouchstart"in window?"touchstart":"mousedown"}(),MOVE:function(){return"ontouchstart"in window?"touchmove":"mousemove"}(),END:function(){return"ontouchstart"in window?"touchend":"mouseup"}(),listen:function(){return document.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)}}(),unListen:function(){return document.removeEventListener?function(a,b,c){a.removeEventListener(b,c)}:function(a,b,c){a.detachEvent("on"+b,c)}}(),getX:function(a){var b=a.touches?a.touches[0]:a;return b.pageX||b.clientX},getY:function(a){var b=a.touches?a.touches[0]:a;return b.pageY||b.clientY}},a.GestureListener=g,a.GestureSession=f,a.EventUtil=d}(window.gesture={}),function(a){"use strict";var b=a.DataSource=Class.extend({init:function(a){this.data=a,this.index=0},setCurrentIndex:function(a){this.index=a},queryCurrentSet:function(a){var b=this;this.queryPrev(function(c){b.queryCurrent(function(d){b.queryNext(function(b){a({prev:c,current:d,next:b})})})})},queryPrev:function(a){this.index-1<0?typeof this.willQueryFirstOfDataDelegate=="function"?this.willQueryFirstOfDataDelegate(function(b){a(b)}):a(null):a(this.data[this.index-1])},queryCurrent:function(a){a(this.data[this.index])},queryNext:function(a){this.index+1>=this.data.length?typeof this.willQueryEndOfDataDelegate=="function"?this.willQueryEndOfDataDelegate(function(b){a(b)}):a(null):a(this.data[this.index+1])},next:function(){this.index+=1},prev:function(){this.index-=1},willQueryEndOfData:function(a){this.willQueryEndOfDataDelegate=a},willQueryEndOfDataDelegate:function(a){a(null)},willQueryFirstOfData:function(a){this.willQueryFirstOfDataDelegate=a},willQueryFirstOfDataDelegate:function(a){a(null)},addNextData:function(a){this.data=this.data.concat(a)},addPrevData:function(a){this.setCurrentIndex(a.length+this.index),this.data=a.concat(this.data)},destroy:function(){delete this.data}});a.InfiniteDataSource=b.extend({init:function(a){this._super(a)},next:function(){this.index+1>=this.data.length?this.index=0:this.index+=1},prev:function(){this.index<=0?this.index=this.data.length-1:this.index-=1},willQueryFirstOfDataDelegate:function(a){var b=this.data;a(b[b.length-1])},willQueryEndOfDataDelegate:function(a){var b=this.data;a(b[0])}})}(window.slide=typeof slide=="undefined"?{}:slide),function(a){"use strict";var b=a.userAgent=function(a){return a=(a||window.navigator.userAgent).toString(),{ua:a,isIe8:!!a.match(/msie 8/i),isIe9:!!a.match(/msie 9/i),isPolaris:!!a.match(/polaris/i),isOpera:!!a.match(/opera/i),isWinMobile:!!a.match(/windows ce/i)||!!a.match(/windows mobile/i),isFirefox:!!a.match(/firefox/i),isAndroid:!!a.match(/android/i),isDolfin:!!a.match(/dolfin/i),isIOS:!!a.match(/like mac os x./i),isSafari:!a.match(/mobile/i)&&!!a.match(/safari/i),androidVersion:function(){var b=1,c=0,d=0,e,f=/ android ([0-9\.]+);/i.exec(a);return f&&f.length===2&&(e=f[1].split("."),b=parseInt(e[0],10),c=parseInt(e[1],10),d=parseInt(e[2],10)),{major:b,minor:c,patch:d}}()}},c=a.isTransformEnabled=function(){var a=b(),c=a.androidVersion.major>2||a.androidVersion.major===2&&a.androidVersion.minor>=3;return!!(a.isAndroid&&c||a.isIOS||a.isSafari||a.isDolfin)}();a.hardwareAccelStyle=c?"-webkit-transform:translate3d(0,0,0);":"";var d=a.isSwipeEnabled=function(){var a=b();return(a.isAndroid||a.isIOS||a.isSafari||a.isFirefox||a.isDolfin||a.isIe9||a.isIe8||a.isOpera)&&!a.isPolaris&&!a.isWinMobile}();a.onResized=function(a,b){function f(){return d!==a.clientWidth||e!==a.clientHeight}var c="onorientationchange"in window?"orientationchange":"resize",d=a.clientWidth,e=a.clientHeight;window.gesture.EventUtil.listen(window,c,function(){var c=0;setTimeout(function g(){f()?(d=a.clientWidth,e=a.clientHeight,b(d,e)):c++<20&&setTimeout(g,50)},50)})},a.preventDefault=function(a){var b=a||window.event;b.preventDefault?b.preventDefault():b.returnValue=!1},a.stopPropagation=function(a){var b=a||window.event;b.stopPropagation?b.stopPropagation():b.cancelBubble=!0}}(window.slide=typeof slide=="undefined"?{}:slide),function(a){"use strict";var b=a.Panel=Class.extend({init:function(a){this.slide=a,this.el=this.createPanel(a.pageWidth);var b=this;this.slide.on("resize",function(a){b.setWidth(a)})},createPanel:function(b){var c=document.createElement("div");return c.className="panel",c.style.cssText="height:100%;overflow:hidden;display:inline-block;"+a.hardwareAccelStyle+"width:"+b+"px;",c},setWidth:function(a){this.el.style.width=a+"px"},setData:function(a){this.el.innerHTML=a?a.toHTML():"&nbsp;"},destroy:function(){this.slide=null,this.el=null}}),c=a.UlPanel=b.extend({createPanel:function(b){var c=document.createElement("ul");return c.className="panel",c.style.cssText="height:100%;overflow:hidden;display:inline-block;"+a.hardwareAccelStyle+"width:"+b+"px;",c}})}(window.slide=typeof slide=="undefined"?{}:slide),function(a){"use strict";var b=a.isTransformEnabled,c=a.isSwipeEnabled,d=a.Panel,e=a.isUsingClone=function(){var b=a.userAgent(),c=b.androidVersion.major>4||b.androidVersion.major===4&&b.androidVersion.minor>0||b.androidVersion.major===4&&b.androidVersion.minor===0&&b.androidVersion.patch>=3;return!!(b.isAndroid&&c||b.isDolfin)}(),f=0,g=0,h=1,i=2,j=a.BasicContainer=Class.extend({init:function(a,b){this.slide=a,this.option=b||{},this.el=this.createContainer(a.pageWidth),this.panel=this.initPanel(this.option.PanelClass||d),this.bindEvents()},createContainer:function(a){var b=document.createElement("div");return b.className="slide",this.option.containerId?b.id=this.option.containerId:(f+=1,b.id="slide-"+f),b.style.cssText=this.setContainerStyle(a),b},setContainerStyle:function(a){return"overflow:hidden;position:relative;top:0;left:0;width:"+a+"px;"},initPanel:function(a){var b=new a(this.slide);return this.el.appendChild(b.el),b},bindEvents:function(){var a=this;this.slide.on("resize",function(b){a.setSlideSize(b)})},setSlideSize:function(a){this.el.style.width=a+"px"},getWidth:function(){return this.el.clientWidth},destroy:function(){this.slide=null,this.el=null,this.panel.destroy(),this.panel=null}}),k=a.MiddleContainer=j.extend({init:function(a,b){this.slide=a,this.option=b||{},this.el=this.createContainer(a.pageWidth),this.panels=[],this.initPanels(this.option.PanelClass||d),this.bindEvents()},setContainerStyle:function(b){return"overflow:hidden;position:relative;top:0;"+a.hardwareAccelStyle+"left:"+ -b+"px;width:"+b*3+"px;"},initPanels:function(a){this.panels[g]=this.initPanel(a),this.panels[h]=this.initPanel(a),this.panels[i]=this.initPanel(a)},setData:function(a){var b=this.panels;b[g].setData(a.prev),b[h].setData(a.current),b[i].setData(a.next)},setNextData:function(a){this.panels[i].setData(a)},setPrevData:function(a){this.panels[g].setData(a)},rearrangePanelsAfterNext:function(a){var b=this.panels.shift(),c=b.el;this.el.removeChild(c),this.move(0),this.el.appendChild(c),this.panels.push(b)},rearrangePanelsAfterPrev:function(a){var b=this.panels.pop(),c=b.el,d=this.panels[0].el;this.el.removeChild(c),this.move(0),this.el.insertBefore(c,d),this.panels.unshift(b)},move:function(a){this.el.style.left=a-this.slide.pageWidth+"px"},setSlideSize:function(a){this.el.style.width=a*3+"px",this.el.style.left=-a+"px"},destroy:function(){this.slide=null,this.el=null,this.panels[0].destroy(),this.panels[1].destroy(),this.panels[2].destroy(),delete this.panels}}),l=a.AdvanceContainer=k.extend({move:function(a){this.el.style.webkitTransform="translate3d("+a+"px, 0, 0)"},setTransitionDuration:function(a){this.el.style.webkitTransitionDuration=a+"ms"},onTransitionEnd:function(a){this.el.addEventListener("webkitTransitionEnd",a)},offTransitionEnd:function(a){this.el.removeEventListener("webkitTransitionEnd",a)}}),m=a.CloneAdvanceContainer=l.extend({rearrangePanels:function(a){var b=this.el.cloneNode(!0),c=this.el.parentNode;c.replaceChild(b,this.el),a&&a(),c.replaceChild(this.el,b),b=null},rearrangePanelsAfterNext:function(a){var b=this;this.rearrangePanels(function(){b._super(a)})},rearrangePanelsAfterPrev:function(a){var b=this;this.rearrangePanels(function(){b._super(a)})}});a.Container=e?m:b?l:c?k:j}(window.slide=typeof slide=="undefined"?{}:slide),function(a){"use strict",a.Observable=Class.extend({addListener:function(a,b){var c=this.getListeners(a);return c.push(b),this},on:function(){return this.addListener.apply(this,arguments)},emit:function(a){var b=this.getListeners(a),c=[].slice.call(arguments,1);if(typeof b!="undefined")for(var d=0,e=b.length;d<e;d++)b[d].apply(this,c);return this},removeListener:function(a,b){var c=this.getListeners(a);if(typeof c!="undefined")for(var d=0,e=c.length;d<e;d++)if(c[d]===b){c.splice(d,1);break}return this},off:function(){return this.removeListener.apply(this,arguments)},getListeners:function(a){return this.listeners=this.listeners||{},this.listeners[a]=this.listeners[a]||[],this.listeners[a]}})}(window.slide=typeof slide=="undefined"?{}:slide),function(a){"use strict";var b=a.isTransformEnabled,c=a.isSwipeEnabled,d=a.Container,e=a.onResized,f=a.preventDefault,g=.1,h=a.BasicSlide=slide.Observable.extend({init:function(a,b,c){this.frameEl=a,this.container=null,this.dataSource=b,this.option=c||{},this.pageWidth=this.frameEl.clientWidth,this.initContainer(),this.show(),this.bindEvents()},initContainer:function(){this.container=new d(this,this.option),this.frameEl.innerHTML="",this.frameEl.appendChild(this.container.el)},bindEvents:function(){var a=0,b=this,c=this.listener=gesture.GestureListener(this.frameEl,a);c.onGestureStart(function(a){return b.startDrag(a)}),c.onGestureMove(function(a){return b.drag(a)}),c.onGestureEnd(function(a){return b.endDrag(a)}),e(this.frameEl,function(a,c){b.resize(a,c)})},show:function(){var a=this.container;this.dataSource.queryCurrent(function(b){a.panel.setData(b)})},next:function(){var a=this;this.dataSource.queryNext(function(b){b===null?a.cancel():a.nextSlide()})},nextSlide:function(){this.dataSource.next(),this.show(),this.emit("next")},prev:function(){var a=this;this.dataSource.queryPrev(function(b){b===null?a.cancel():a.prevSlide()})},prevSlide:function(){this.dataSource.prev(),this.show(),this.emit("prev")},cancel:function(){this.emit("cancel")},startDrag:function(a){this.emit("startDrag",a)},drag:function(){},endDrag:function(a){if(a.isScroll())return;if(a.delta.x===0&&a.delta.y===0){this.emit("click");return}this.emit("endDrag",a)},resize:function(a,b){this.setWrapperSize(a,b),this.emit("resize",a,b)},setWrapperSize:function(a){this.pageWidth=a},destroy:function(){this.container.destroy(),this.container=null,this.frameEl.innerHTML="",this.frameEl=null,delete this.listeners,this.dataSource=null}}),i=a.MiddleSlide=h.extend({show:function(){var a=this.container;this.dataSource.queryCurrentSet(function(b){a.setData(b)})},nextSlide:function(){var a=this,b=-1*this.pageWidth;this.slide(b,function(){a.container.rearrangePanelsAfterNext(),a.preloadNextData(),a.emit("next")})},preloadNextData:function(){var a=this.container;this.dataSource.next(),this.dataSource.queryNext(function(b){a.setNextData(b)})},prevSlide:function(){var a=this,b=this.pageWidth;this.slide(b,function(){a.container.rearrangePanelsAfterPrev(),a.preloadPrevData(),a.emit("prev")})},preloadPrevData:function(){var a=this.container;this.dataSource.prev(),this.dataSource.queryPrev(function(b){a.setPrevData(b)})},slide:function(a,b){this.container.move(a),b&&b()},cancel:function(){var a=this;this.slide(0,function(){a.emit("cancel")})},drag:function(a){a.isSwipe()&&(f(a.targetEvent),this.container.move(a.delta.x/2))},endDrag:function(a){if(a.isScroll())return;if(a.delta.x===0&&a.delta.y===0){this.emit("click");return}this.isNextSwipe(a)?this.next():this.isPrevSwipe(a)?this.prev():this.cancel(),this.emit("endDrag",a)},isNextSwipe:function(a){return a.isLeft()&&(this.isNextThreshold(a)||a.isFlick())},isNextThreshold:function(a){return this.container.getWidth()*-1*g>a.delta.x},isPrevSwipe:function(a){return a.isRight()&&(this.isPrevThreshold(a)||a.isFlick())},isPrevThreshold:function(a){return this.container.getWidth()*g<a.delta.x}}),j=a.AdvanceSlide=i.extend({init:function(a,b,c){this._super(a,b,c),this.defaultDuration=this.option.duration||300,this.isInTransition=!1},slide:function(a,b){var c=this.container;this.enableTransition(this.duration),c.move(a);var d=this;window.setTimeout(function(){d.disableTransition(),b&&b()},this.duration+30)},enableTransition:function(a){this.container.setTransitionDuration(a||this.defaultDuration),this.isInTransition=!0},disableTransition:function(){this.container.setTransitionDuration(0),this.isInTransition=!1},startDrag:function(a){if(this.isInTransition){f(a.targetEvent),this.isDragging=!1;return}this.isDragging=!0,this._super(a)},drag:function(a){if(this.isInTransition||!this.isDragging){f(a.targetEvent);return}this._super(a)},endDrag:function(a){if(this.isInTransition||!this.isDragging)return;this._super(a)},cancel:function(){if(this.isInTransition)return;this._super()},next:function(a){if(this.isInTransition)return;this.duration=a||this.defaultDuration,this._super()},prev:function(a){if(this.isInTransition)return;this.duration=a||this.defaultDuration,this._super()}});a.Slide=b?j:c?i:h}(window.slide=typeof slide=="undefined"?{}:slide);